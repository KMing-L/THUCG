# PA0 Report

> 刘铠铭 2020030014 计14

## 代码逻辑

### 画线

使用 Bresenham 算法完成，实现算法逻辑与作业中描述一致，细节处理上：
- 对水平/竖直直线进行特殊判断处理；
- 根据 $|dx|$ 和 $|dy|$ 的相对大小分为两类，即 $x$ 递增或 $y$ 递增。

### 画圆

根据圆形的八对称性，只需扫描转换 $\dfrac{1}{8}$ 圆弧即可得到整个圆形，为此在 `Circle` 类中定义如下接口由一个点渲染八个点：

``` c++
void drawCirclePoint(Image &img, int x, int y)
```

在课本介绍的中点画圆法的基础上，利用通分回避了浮点数的运算，加快了渲染效率，即 $d \rightarrow 4d$，后续更改 $d$ 时同样进行四倍处理。

### 区域填充

使用区域填充的扫描线算法，该算法的基本思路为：给定种子点 $(x,y)$，首先填充种子点所在扫描线上所在给定区域的一个区段，然后确定与这一区段相连通的上下两条扫描线上位于给定区域内的区段，并将这些区段最右侧的点作为新的种子点保存下来，反复这个过程知道填充结束。

为种子点设定结构：

```c++
struct Seed {}
```

使用一个队列 `std::queue<Seed> q` 来组织所有的种子点。

## Honor Code

未与任何同学进行代码与思路交流，未参考除教材外的任何代码与思路。

## 遇到的问题

边界情况细节处理不当，在调试时花费了较多时间：
- 填充时，在考虑上下两条扫描线的区域时，未考虑边界条件，即代码实现第 186 & 205 行 `x < xr` 的判断条件。
